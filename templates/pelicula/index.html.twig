{% extends 'base.html.twig' %}

{% block title %}Listado de Pel√≠culas{% endblock %}

{% block body %}
<div class="container mt-4">

    <div class="d-flex justify-content-between align-items-center mb-3">
        <h1>üé¨ Pel√≠culas</h1>
        <a href="{{ path('app_pelicula_new') }}" class="btn btn-success">‚ûï A√±adir nueva</a>
    </div>

    <table class="table table-dark table-striped">
        <thead>
            <tr>
                <th>ID</th>
                <th>T√≠tulo</th>
                <th>A√±o</th>
                <th>Duraci√≥n</th>
                <th>Imagen</th>
                <th>Acciones</th>
            </tr>
        </thead>

        <tbody>
        {% for pelicula in peliculas %}
            <tr>
                <td>{{ pelicula.id }}</td>
                <td>{{ pelicula.titulo }}</td>
                <td>{{ pelicula.ano }}</td>
                <td>{{ pelicula.duracion }} min</td>
                <td>
                  {% if pelicula.imagen %}
                     <img src="{{ asset('uploads/imagenes/' ~ pelicula.imagen) }}" width="100">
                    {% else %}
                        <span class="text-muted">Sin imagen</span>
                    {% endif %}

                </td>
                <td>
                    <a href="{{ path('app_pelicula_show', {'id': pelicula.id}) }}" class="btn btn-primary btn-sm">Ver</a>
                    <a href="{{ path('app_pelicula_edit', {'id': pelicula.id}) }}" class="btn btn-warning btn-sm">Editar</a>
                    {{ include('pelicula/_delete_form.html.twig') }}
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="6" class="text-center text-muted">No hay pel√≠culas registradas</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

</div>
{% endblock %}
